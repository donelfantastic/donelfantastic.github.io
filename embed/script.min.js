document.addEventListener("DOMContentLoaded", () => {
  const players = document.querySelectorAll("#player");
  var currentLocation = window.location.search;
  var QWERTYUIOP123 = currentLocation.replace("?live&url=", "");
// Manifest URI HLS or DASH
//  var ABCD1234 = DEMO;
//  var QWERTYUIOP = QWERTYUIOP;
//  var ASDFGHJKL = ASDFGHJKL;
//  var ZXCVBNM = ZXCVBNM;
//  var ABCDEFGHIJKLM = ABCDEFGHIJKLM;
//  var NOPQRSTUVWXYZ = NOPQRSTUVWXYZ;
// DRM if available
//  var ABCDEFGHIJKLM = {
//          "com.widevine.alpha":"",
//          "com.microsoft.playready":""
//        }; 
//  var NOPQRSTUVWXYZ = {
//          "":""
//        };
  const clapprConfig = {
    title: "Donel Fantastic TV", 
    source: QWERTYUIOP123, 
    abr: {
      enabled: true 
    },
    shakaConfiguration: {
      drm: {
        servers: ABCDEFGHIJKLM, 
        clearKeys: NOPQRSTUVWXYZ
      }
    },
    autoPlayVisible: "partial",
    height: "100%",
    width: "100%",
    mediacontrol: {
    seekbar: "#FF0000",
    buttons: "#FF0000"
    }, 
    plugins: [DashShakaPlayback, LevelSelector, HlsjsPlayback],
    levelSelectorConfig: {
      title: "Quality",
      labels: {
        3: "HD", //700kbps
        2: "High", //500kbps
        1: "Med", //240kbps
        0: "Low" //120kbps
      },
      labelCallback: function (playbackLevel, customLabel) {
        return customLabel + playbackLevel.level.height + "p"; //High 720p
      }
    },
    //watermark: "",
    //position: "bottom-left",
    //watermarkLink: "",
    shakaOnBeforeLoad: function (shaka_player) {}
  };
  const clappr = new Clappr.Player(clapprConfig);
  clappr.attachTo(player);
  clappr.on(Clappr.Events.PLAYER_PLAY, function () {});
});
